<template name="html5video">
	{{#with reactiveVideo}}
		{{> reactive_html5_video}}
	{{/with}}
</template>

<template name="reactive_html5_video">
	<div class="video-wrap {{#if stopTransition}} stopTransition {{/if}} {{#if paused}} paused {{/if}} {{#if active}} active {{/if}}" style="width: {{../width}}px; height: {{../height}}px;">
		<div class="main-play play-wrap play">
			<div class="glyphicon glyphicon-play"></div>
		</div>
		<video src="{{source}}" preload="meta" style="width: 100%; height: 100%;"></video>
		<div class="video-controls">
			<div class="track" style="width: 100%;">
				<div class="seek-bar">
					<div class="thumb-bar">
						<div class="thumb-wrap">
							<div class="thumb" style="left: {{position}}%;"></div>
						</div>
					</div>
					<div class="play-progress current-progress" style="width: {{position}}%;"></div>	
					<div class="progress-wrap" style="width: 100%;">
						{{#each progresses}}
						<div class="seek-progress" style="left: {{start}}px; width: {{width}}px;"></div>
						{{/each}}
					</div>				
				</div>
			</div>
			<div class="controls">
				<div class="control pull-left"><i class="control-fade glyphicon {{#if playing}} glyphicon-pause pause {{else}} glyphicon-play play {{/if}}"></i></div>
				<div class="control pull-left"><i class="control-fade glyphicon glyphicon-volume-{{volumeIcon}} volume"></i></div>
				<div class="control pull-left"> 
					<div class="volume-bar control-fade">
						<div class="volume-thumb" style="left: {{volumeLevel}}%;"></div>	
						<div class="volume-progress current-progress" style="width: {{volumeLevel}}%;"></div>	
					</div>
				</div>
				<div class="control pull-right"><i class="control-fade glyphicon glyphicon-resize-full fullScreen"></i></div>
				<div class="control settings pull-right">
					<i class="control-fade glyphicon glyphicon-cog settingsBtn"></i>
					<div class="popover-settings">
						<div class="qualities">
							<ul>
								{{#each qualities}}
								<li class="{{#if selected}}selected{{/if}}">{{name}}</li>
								{{/each}}
							</ul>
						</div>
					</div>
				</div>
				{{#if duration}}
				<div class="control time pull-right">{{time}} / {{duration}}</div>
				{{/if}}
			</div>
		</div>
	</div>
</template>